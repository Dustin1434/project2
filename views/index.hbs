<h1 class="maintitle">{{title}}</h1>
<p class="count">100 Art pieces through api</p>

<div>
  <label for="department-filter">Department:</label>
  <select id="department-filter">
    <option value="All">All</option>
  </select>

  <label for="sort-order">Sort:</label>
  <select id="sort-order">
    <option value="title_asc">Title (A–Z)</option>
    <option value="title_desc">Title (Z–A)</option>
    <option value="date_asc">Year (Oldest → Newest)</option>
    <option value="date_desc">Year (Newest → Oldest)</option>
  </select>

</div>

<section id="data-visualization-area">
  <div id="chart-container"></div>
</section>

<ul id="artwork-list"></ul>

<ul id="bootstrap-artwork-data" style="display:none">
  {{#each artworks}}
    <li
      data-id="{{id}}"
      data-title="{{title}}"
      data-artist-display="{{artist_display}}"
      data-place-of-origin="{{place_of_origin}}"
      data-date-start="{{date_start}}"
      data-artwork-type-title="{{artwork_type_title}}"
      data-department-title="{{department_title}}"
      data-image-id="{{image_id}}">
    </li>
  {{/each}}
</ul>

<script>
  (function () {
    const nodes = document.querySelectorAll('#bootstrap-artwork-data > li');
    window.artworkData = Array.from(nodes).map(li => ({
      id: Number(li.dataset.id),
      title: li.dataset.title || '',
      artist_display: li.dataset.artistDisplay || '',
      place_of_origin: li.dataset.placeOfOrigin || '',
      date_start: li.dataset.dateStart ? Number(li.dataset.dateStart) : null,
      artwork_type_title: li.dataset.artworkTypeTitle || '',
      department_title: li.dataset.departmentTitle || '',
      image_id: li.dataset.imageId || null
    }));
  })();
</script>

<div id="gallery" class="gallery">
  {{#each artworks}}
    <a
      class="galleryphotos"
      href="https://www.artic.edu/artworks/{{id}}"
      rel="noopener"
      data-artwork-id="{{id}}"
    >
      {{#if image_id}}
        <img
          class="image"
          src="https://www.artic.edu/iiif/2/{{image_id}}/full/400,/0/default.jpg"
          alt="{{title}}"
        >
      {{else}}
        <img
          class="image image--placeholder"
          src="https://placehold.co/400x300?text=No+Image"
          alt="No image available for {{title}}"
        >
      {{/if}}
      <span class="gallerytitle">{{title}}</span>
    </a>
  {{/each}}
</div>


<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="/javascripts/main.js"></script>
<footer class="footer">
  <p>&copy; Art Institute of Chicago</p>
